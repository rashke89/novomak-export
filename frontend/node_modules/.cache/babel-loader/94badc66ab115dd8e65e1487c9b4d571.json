{"ast":null,"code":"import { CATEGORY_LIST_REQUEST, CATEGORY_LIST_SUCCESS, CATEGORY_LIST_FAIL, CATEGORY_DETAILS_REQUEST, CATEGORY_DETAILS_SUCCESS, CATEGORY_DETAILS_FAIL, CATEGORY_SAVE_REQUEST, CATEGORY_SAVE_SUCCESS, CATEGORY_SAVE_FAIL, CATEGORY_DELETE_SUCCESS, CATEGORY_DELETE_FAIL, CATEGORY_DELETE_REQUEST, CATEGORY_REVIEW_SAVE_REQUEST, CATEGORY_REVIEW_SAVE_FAIL, CATEGORY_REVIEW_SAVE_SUCCESS } from '../constants/categoryConstants';\nimport axios from 'axios';\nimport Axios from 'axios';\n\nconst listCategories = (category = '', searchKeyword = '', sortOrder = '') => async dispatch => {\n  try {\n    // debugger\n    dispatch({\n      type: CATEGORY_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get('/api/category');\n    dispatch({\n      type: CATEGORY_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: CATEGORY_LIST_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst saveCategory = category => async (dispatch, getState) => {\n  // try {\n  dispatch({\n    type: CATEGORY_SAVE_REQUEST,\n    payload: category\n  });\n  const {\n    userSignin: {\n      userInfo\n    }\n  } = getState(); // if (!category._id) {\n  //     const {data} = await Axios.post('/api/category', category, {\n  //         headers: {\n  //             Authorization: 'Bearer ' + userInfo.token,\n  //         },\n  //     });\n  //     dispatch({type: CATEGORY_SAVE_SUCCESS, payload: data});\n  // } else {\n\n  console.log('uso je u else....', category);\n  Axios.put(`/api/category/${category.selectedCategory}/${category._id || 0}`, category, {\n    headers: {\n      Authorization: 'Bearer ' + userInfo.token\n    }\n  }).then(data => {\n    console.log('ddd', data);\n  }).catch(error => {\n    console.log('ewrrr', error.response);\n  }); // console.log(data);\n  // dispatch({ type: CATEGORY_SAVE_SUCCESS, payload: data });\n  // }\n  // } catch (error) {\n  //     dispatch({type: CATEGORY_SAVE_FAIL, payload: error.message});\n  // }\n}; // const detailsCategory = (productId) => async (dispatch) => {\n//   try {\n//     dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\n//     const { data } = await axios.get('/api/products/' + productId);\n//     dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\n//   } catch (error) {\n//     dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.message });\n//   }\n// };\n\n\nconst deleteCategory = categoryId => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n    dispatch({\n      type: CATEGORY_DELETE_REQUEST,\n      payload: categoryId\n    });\n    const {\n      data\n    } = await axios.delete('/api/category/' + categoryId, {\n      headers: {\n        Authorization: 'Bearer ' + userInfo.token\n      }\n    });\n    dispatch({\n      type: CATEGORY_DELETE_SUCCESS,\n      payload: data,\n      success: true\n    });\n  } catch (error) {\n    dispatch({\n      type: CATEGORY_DELETE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nexport { listCategories, saveCategory, deleteCategory };","map":{"version":3,"sources":["/Users/radosmijatovic/projects/novomak-export/frontend/src/actions/categoryAction.js"],"names":["CATEGORY_LIST_REQUEST","CATEGORY_LIST_SUCCESS","CATEGORY_LIST_FAIL","CATEGORY_DETAILS_REQUEST","CATEGORY_DETAILS_SUCCESS","CATEGORY_DETAILS_FAIL","CATEGORY_SAVE_REQUEST","CATEGORY_SAVE_SUCCESS","CATEGORY_SAVE_FAIL","CATEGORY_DELETE_SUCCESS","CATEGORY_DELETE_FAIL","CATEGORY_DELETE_REQUEST","CATEGORY_REVIEW_SAVE_REQUEST","CATEGORY_REVIEW_SAVE_FAIL","CATEGORY_REVIEW_SAVE_SUCCESS","axios","Axios","listCategories","category","searchKeyword","sortOrder","dispatch","type","data","get","payload","error","message","saveCategory","getState","userSignin","userInfo","console","log","put","selectedCategory","_id","headers","Authorization","token","then","catch","response","deleteCategory","categoryId","delete","success"],"mappings":"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","sourcesContent":["import {\n    CATEGORY_LIST_REQUEST,\n    CATEGORY_LIST_SUCCESS,\n    CATEGORY_LIST_FAIL,\n    CATEGORY_DETAILS_REQUEST,\n    CATEGORY_DETAILS_SUCCESS,\n    CATEGORY_DETAILS_FAIL,\n    CATEGORY_SAVE_REQUEST,\n    CATEGORY_SAVE_SUCCESS,\n    CATEGORY_SAVE_FAIL,\n    CATEGORY_DELETE_SUCCESS,\n    CATEGORY_DELETE_FAIL,\n    CATEGORY_DELETE_REQUEST,\n    CATEGORY_REVIEW_SAVE_REQUEST,\n    CATEGORY_REVIEW_SAVE_FAIL,\n    CATEGORY_REVIEW_SAVE_SUCCESS,\n} from '../constants/categoryConstants';\nimport axios from 'axios';\nimport Axios from 'axios';\n\nconst listCategories = (\n    category = '',\n    searchKeyword = '',\n    sortOrder = ''\n) => async (dispatch) => {\n    try {\n        // debugger\n        dispatch({type: CATEGORY_LIST_REQUEST});\n        const {data} = await axios.get('/api/category');\n        dispatch({type: CATEGORY_LIST_SUCCESS, payload: data});\n    } catch (error) {\n        dispatch({type: CATEGORY_LIST_FAIL, payload: error.message});\n    }\n};\nconst saveCategory = (category) => async (dispatch, getState) => {\n    // try {\n        dispatch({type: CATEGORY_SAVE_REQUEST, payload: category});\n        const {\n            userSignin: {userInfo},\n        } = getState();\n        // if (!category._id) {\n        //     const {data} = await Axios.post('/api/category', category, {\n        //         headers: {\n        //             Authorization: 'Bearer ' + userInfo.token,\n        //         },\n        //     });\n        //     dispatch({type: CATEGORY_SAVE_SUCCESS, payload: data});\n        // } else {\n            console.log('uso je u else....', category);\n             Axios.put(\n                `/api/category/${category.selectedCategory}/${category._id || 0}`,\n                category,\n                {\n                  headers: {\n                    Authorization: 'Bearer ' + userInfo.token,\n                  },\n                }\n            ).then(data => {\n                console.log('ddd', data);\n            }).catch(error => {\n                console.log('ewrrr', error.response);\n            });\n        // console.log(data);\n        // dispatch({ type: CATEGORY_SAVE_SUCCESS, payload: data });\n        // }\n    // } catch (error) {\n    //     dispatch({type: CATEGORY_SAVE_FAIL, payload: error.message});\n    // }\n};\n\n// const detailsCategory = (productId) => async (dispatch) => {\n//   try {\n//     dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\n//     const { data } = await axios.get('/api/products/' + productId);\n//     dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\n//   } catch (error) {\n//     dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.message });\n//   }\n// };\n\nconst deleteCategory = (categoryId) => async (dispatch, getState) => {\n    try {\n        const {\n            userSignin: {userInfo},\n        } = getState();\n        dispatch({type: CATEGORY_DELETE_REQUEST, payload: categoryId});\n        const {data} = await axios.delete('/api/category/' + categoryId, {\n            headers: {\n                Authorization: 'Bearer ' + userInfo.token,\n            },\n        });\n        dispatch({type: CATEGORY_DELETE_SUCCESS, payload: data, success: true});\n    } catch (error) {\n        dispatch({type: CATEGORY_DELETE_FAIL, payload: error.message});\n    }\n};\n\nexport {\n    listCategories,\n    saveCategory,\n    deleteCategory,\n};\n"]},"metadata":{},"sourceType":"module"}