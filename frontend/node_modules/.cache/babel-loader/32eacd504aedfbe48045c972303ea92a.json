{"ast":null,"code":"var _jsxFileName = \"/Users/radosmijatovic/projects/novomak-export/frontend/src/screens/CategoriesScreen.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport axios from 'axios';\nimport { saveProduct, listProducts, deleteProdcut } from '../actions/productActions';\nimport { listCategories, saveCategory } from \"../actions/categoryAction\";\nimport { CATEGORY_SAVE_REQUEST } from \"../constants/categoryConstants\";\n\nfunction CategoriesScreen(props) {\n  var _categorySave$categor;\n\n  const [modalVisible, setModalVisible] = useState(false);\n  const [id, setId] = useState('');\n  const [name, setName] = useState('');\n  const [price, setPrice] = useState('');\n  const [image, setImage] = useState('');\n  const [brand, setBrand] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('categories');\n  const [countInStock, setCountInStock] = useState('');\n  const [description, setDescription] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const categoryList = useSelector(state => state.categoryList.categories);\n  const categorySave = useSelector(state => state.categorySave); // const { loading, categories, error } = categoryList;\n\n  const {\n    categories,\n    diameters,\n    manufacturers,\n    heights,\n    widths,\n    seasons\n  } = categoryList;\n  const [renderList, setRenderList] = useState(categories);\n  const productSave = useSelector(state => state.productSave);\n  const {\n    loading: loadingSave,\n    success: successSave,\n    error: errorSave\n  } = productSave;\n  const productDelete = useSelector(state => state.productDelete);\n  const {\n    loading: loadingDelete,\n    success: successDelete,\n    error: errorDelete\n  } = productDelete;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (successSave) {\n      setModalVisible(false);\n    }\n\n    dispatch(listCategories());\n    setRenderList(categories);\n    console.log(categorySave);\n    return () => {//\n    };\n  }, [successSave, successDelete]);\n  useEffect(() => {\n    setRenderList(categories);\n    return () => {//\n    };\n  }, [categories]);\n\n  const openModal = product => {\n    // setModalVisible(true);\n    setId(product._id);\n    setName(product.name); // setPrice(product.price);\n    // setDescription(product.description);\n    // setImage(product.image);\n    // setBrand(product.brand);\n    // setCategory(product.category);\n    // setCountInStock(product.countInStock);\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(saveCategory({\n      _id: id,\n      selectedCategory,\n      name\n    }));\n  };\n\n  const deleteHandler = product => {\n    return;\n    dispatch(deleteProdcut(product._id));\n  };\n\n  const onChoseCategory = categoryName => {\n    setRenderList(categoryList[categoryName]);\n    setSelectedCategory(categoryName);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content content-margined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-header mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"nav header-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    onClick: e => onChoseCategory('categories'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: `nav-link ${selectedCategory === 'categories' && 'active'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, \"Kategorije\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    onClick: e => onChoseCategory('manufacturers'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: `nav-link ${selectedCategory === 'manufacturers' && 'active'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }, \"Proizvodjaci\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    onClick: e => onChoseCategory('seasons'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: `nav-link ${selectedCategory === 'seasons' && 'active'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, \"Sezone\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    onClick: e => onChoseCategory('widths'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: `nav-link ${selectedCategory === 'widths' && 'active'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, \"Sirina\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    onClick: e => onChoseCategory('heights'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: `nav-link ${selectedCategory === 'heights' && 'active'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, \"Visina\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    onClick: e => onChoseCategory('diameters'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: `nav-link ${selectedCategory === 'diameters' && 'active'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, \"Precnik\"))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary\",\n    \"data-toggle\": \"modal\",\n    \"data-target\": \"#exampleModal\",\n    onClick: e => openModal({\n      name: ''\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"Kreiraj kategoriju\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal fade bd-example-modal-lg\",\n    id: \"exampleModal\",\n    tabIndex: \"-1\",\n    role: \"dialog\",\n    \"aria-labelledby\": \"exampleModalLabel\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-dialog\",\n    role: \"document\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"modal-title\",\n    id: \"exampleModalLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 29\n    }\n  }, \"Kreiraj kategoriju\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    onClick: e => {\n      dispatch({\n        type: CATEGORY_SAVE_REQUEST,\n        payload: ''\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 33\n    }\n  }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 45\n    }\n  }, \"Ime\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: name,\n    id: \"name\",\n    onChange: e => setName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 41\n    }\n  }, categorySave && categorySave.hasOwnProperty('loading') && !categorySave.loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 text-white mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 129\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: !(categorySave === null || categorySave === void 0 ? void 0 : categorySave.success) ? 'bg-danger p-3' : 'bg-success p-3',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 49\n    }\n  }, \"STATUS ubacivanja XML fajla: \", categorySave === null || categorySave === void 0 ? void 0 : (_categorySave$categor = categorySave.category) === null || _categorySave$categor === void 0 ? void 0 : _categorySave$categor.message))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary\",\n    id: \"close-modal-btn\",\n    \"data-dismiss\": \"modal\",\n    onClick: e => {\n      dispatch({\n        type: CATEGORY_SAVE_REQUEST,\n        payload: ''\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 29\n    }\n  }, \"Odustani\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    onClick: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 29\n    }\n  }, id ? 'Izmeni' : 'Kreiraj'))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 25\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  }, \"Ime\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }\n  }, renderList === null || renderList === void 0 ? void 0 : renderList.map(product => /*#__PURE__*/React.createElement(\"tr\", {\n    key: product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"align-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 29\n    }\n  }, product._id), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 29\n    }\n  }, product.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-toggle\": \"modal\",\n    \"data-target\": \"#exampleModal\",\n    className: \"button\",\n    onClick: () => openModal(product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 33\n    }\n  }, \"Edit\"), ' ', /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    onClick: () => deleteHandler(product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 33\n    }\n  }, \"Delete\"))))))));\n}\n\nexport default CategoriesScreen;","map":{"version":3,"sources":["/Users/radosmijatovic/projects/novomak-export/frontend/src/screens/CategoriesScreen.js"],"names":["React","useEffect","useState","useSelector","useDispatch","axios","saveProduct","listProducts","deleteProdcut","listCategories","saveCategory","CATEGORY_SAVE_REQUEST","CategoriesScreen","props","modalVisible","setModalVisible","id","setId","name","setName","price","setPrice","image","setImage","brand","setBrand","selectedCategory","setSelectedCategory","countInStock","setCountInStock","description","setDescription","uploading","setUploading","categoryList","state","categories","categorySave","diameters","manufacturers","heights","widths","seasons","renderList","setRenderList","productSave","loading","loadingSave","success","successSave","error","errorSave","productDelete","loadingDelete","successDelete","errorDelete","dispatch","console","log","openModal","product","_id","submitHandler","e","preventDefault","deleteHandler","onChoseCategory","categoryName","type","payload","target","value","hasOwnProperty","category","message","map"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport axios from 'axios';\nimport {\n    saveProduct,\n    listProducts,\n    deleteProdcut,\n} from '../actions/productActions';\nimport {listCategories, saveCategory} from \"../actions/categoryAction\";\nimport {CATEGORY_SAVE_REQUEST} from \"../constants/categoryConstants\";\n\nfunction CategoriesScreen(props) {\n    const [modalVisible, setModalVisible] = useState(false);\n    const [id, setId] = useState('');\n    const [name, setName] = useState('');\n    const [price, setPrice] = useState('');\n    const [image, setImage] = useState('');\n    const [brand, setBrand] = useState('');\n\n    const [selectedCategory, setSelectedCategory] = useState('categories');\n    const [countInStock, setCountInStock] = useState('');\n    const [description, setDescription] = useState('');\n    const [uploading, setUploading] = useState(false);\n    const categoryList = useSelector((state) => state.categoryList.categories);\n    const categorySave = useSelector((state) => state.categorySave);\n    // const { loading, categories, error } = categoryList;\n    const {categories, diameters, manufacturers, heights, widths, seasons} = categoryList;\n    const [renderList, setRenderList] = useState(categories);\n\n    const productSave = useSelector((state) => state.productSave);\n    const {\n        loading: loadingSave,\n        success: successSave,\n        error: errorSave,\n    } = productSave;\n\n    const productDelete = useSelector((state) => state.productDelete);\n    const {\n        loading: loadingDelete,\n        success: successDelete,\n        error: errorDelete,\n    } = productDelete;\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (successSave) {\n            setModalVisible(false);\n        }\n        dispatch(listCategories());\n        setRenderList(categories);\n        console.log(categorySave);\n        return () => {\n            //\n        };\n    }, [successSave, successDelete]);\n\n    useEffect(() => {\n        setRenderList(categories);\n        return () => {\n            //\n        };\n    }, [categories]);\n\n    const openModal = (product) => {\n        // setModalVisible(true);\n        setId(product._id);\n        setName(product.name);\n        // setPrice(product.price);\n        // setDescription(product.description);\n        // setImage(product.image);\n        // setBrand(product.brand);\n        // setCategory(product.category);\n        // setCountInStock(product.countInStock);\n    };\n    const submitHandler = (e) => {\n        e.preventDefault();\n        dispatch(\n            saveCategory({\n                _id: id,\n                selectedCategory,\n                name,\n            })\n        );\n    };\n    const deleteHandler = (product) => {\n        return;\n        dispatch(deleteProdcut(product._id));\n    };\n    const onChoseCategory = (categoryName) => {\n        setRenderList(categoryList[categoryName])\n        setSelectedCategory(categoryName);\n    }\n    return (\n        <div className=\"content content-margined\">\n            <div className=\"product-header mb-4\">\n                {/*<h3>Kategorije</h3>*/}\n                <ul className=\"nav header-list\">\n                    <li className=\"nav-item\" onClick={e => onChoseCategory('categories')}>\n                        <span className={`nav-link ${selectedCategory === 'categories' && 'active'}`}>Kategorije</span>\n                    </li>\n                    <li className=\"nav-item\" onClick={e => onChoseCategory('manufacturers')}>\n                        <span className={`nav-link ${selectedCategory === 'manufacturers' && 'active'}`}>Proizvodjaci</span>\n                    </li>\n                    <li className=\"nav-item\" onClick={e => onChoseCategory('seasons')}>\n                        <span className={`nav-link ${selectedCategory === 'seasons' && 'active'}`}>Sezone</span>\n                    </li>\n                    <li className=\"nav-item\" onClick={e => onChoseCategory('widths')}>\n                        <span className={`nav-link ${selectedCategory === 'widths' && 'active'}`}>Sirina</span>\n                    </li>\n                    <li className=\"nav-item\" onClick={e => onChoseCategory('heights')}>\n                        <span className={`nav-link ${selectedCategory === 'heights' && 'active'}`}>Visina</span>\n                    </li>\n                    <li className=\"nav-item\" onClick={e => onChoseCategory('diameters')}>\n                        <span className={`nav-link ${selectedCategory === 'diameters' && 'active'}`}>Precnik</span>\n                    </li>\n                </ul>\n                <button type=\"button\" className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModal\" onClick={e => openModal({name: ''})}>\n                    Kreiraj kategoriju\n                </button>\n            </div>\n\n            <div className=\"modal fade bd-example-modal-lg\" id=\"exampleModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h2 className=\"modal-title\" id=\"exampleModalLabel\">Kreiraj kategoriju</h2>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" onClick={e => {\n                                dispatch({type: CATEGORY_SAVE_REQUEST, payload: ''});\n                            }}>\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <div className=\"form-modal\">\n                                <form onSubmit={submitHandler}>\n                                    <div className=\"row\">\n                                        <div className=\"col-md-6\">\n                                            <label htmlFor=\"name\">Ime</label>\n                                            <input\n                                                type=\"text\"\n                                                name=\"name\"\n                                                value={name}\n                                                id=\"name\"\n                                                onChange={(e) => setName(e.target.value)}\n                                            />\n\n                                        </div>\n                                        <div className=\"col-md-6\">\n                                            {categorySave && categorySave.hasOwnProperty('loading') && !categorySave.loading && <div className=\"col-md-12 text-white mt-3\">\n                                                <p className={!categorySave?.success ? 'bg-danger p-3' : 'bg-success p-3'}>\n                                                    STATUS ubacivanja XML fajla: {categorySave?.category?.message}\n                                                </p>\n                                            </div>}\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button type=\"button\" className=\"btn btn-secondary\" id=\"close-modal-btn\" data-dismiss=\"modal\" onClick={e => {\n                                dispatch({type: CATEGORY_SAVE_REQUEST, payload: ''});\n                            }}>Odustani</button>\n                            <button type=\"submit\" className=\"btn btn-primary\" onClick={submitHandler}>\n                                {id ? 'Izmeni' : 'Kreiraj'}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {<div className=\"product-list\">\n                <table className=\"table\">\n                    <thead>\n                    <tr>\n                        <th>ID</th>\n                        <th>Ime</th>\n                        <th></th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {renderList?.map((product) => (\n                        <tr key={product._id}>\n                            <td className=\"align-center\">{product._id}</td>\n                            <td>{product.name}</td>\n                            <td>\n                                <button type=\"button\" data-toggle=\"modal\" data-target=\"#exampleModal\" className=\"button\" onClick={() => openModal(product)}>\n                                    Edit\n                                </button>\n                                {' '}\n                                <button\n                                    className=\"button\"\n                                    onClick={() => deleteHandler(product)}\n                                >\n                                    Delete\n                                </button>\n                            </td>\n                        </tr>\n                    ))}\n                    </tbody>\n                </table>\n            </div>}\n        </div>\n    );\n}\n\nexport default CategoriesScreen;\n"]},"metadata":{},"sourceType":"module"}