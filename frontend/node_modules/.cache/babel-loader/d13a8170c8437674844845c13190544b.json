{"ast":null,"code":"var _jsxFileName = \"/Users/radosmijatovic/projects/novomak-export/frontend/src/screens/HomeScreen.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { listProducts, updateFilter } from '../actions/productActions';\nimport Rating from '../components/Rating';\nimport { useHistory } from 'react-router-dom';\nimport Pagination from \"react-js-pagination\";\nimport Carousel from \"../components/carousel\";\nimport { WIDTH_LIST, HEIGHT_LIST, DIAMETER } from \"../config\";\nimport { listCategories } from \"../actions/categoryAction\";\nimport Cookie from \"js-cookie\";\n\nfunction HomeScreen(props) {\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [sortOrder, setSortOrder] = useState('');\n  const category = props.match.params.id ? props.match.params.id : '';\n  const productList = useSelector(state => state.productList);\n  const filter = useSelector(state => state.filter);\n  const {\n    categories,\n    diameters,\n    manufacturers,\n    heights,\n    widths,\n    seasons\n  } = useSelector(state => state.categoryList.categories);\n  const [page, setPage] = useState(1);\n  const [totalPerPage, setTotalPerPage] = useState(32);\n  const {\n    products,\n    loading,\n    error,\n    totalItems\n  } = productList;\n  const dispatch = useDispatch();\n  let history = useHistory();\n  useEffect(() => {\n    dispatch(listProducts(category));\n    dispatch(listCategories());\n    return () => {//\n    };\n  }, [category]);\n  useEffect(() => {\n    // dispatch(listProducts(category));\n    // dispatch(listCategories());\n    if ((categories === null || categories === void 0 ? void 0 : categories.length) && category) {\n      console.log('category ---..', category, categories);\n      let findCategory = categories.find(item => item._id === category);\n      console.log(findCategory);\n      console.log(filter);\n      let newFilter = { ...filter,\n        page: 1,\n        Kategorija: findCategory.name\n      };\n      dispatch(updateFilter(newFilter));\n      dispatch(listProducts('', filter.searchKeyword, filter.sortOrder, filter.page, newFilter));\n    }\n\n    return () => {//\n    };\n  }, [categories]);\n  useEffect(() => {\n    if (Object.keys(filter).length) {\n      setSearchKeyword(filter === null || filter === void 0 ? void 0 : filter.searchKeyword);\n      setSortOrder(filter === null || filter === void 0 ? void 0 : filter.sortOrder);\n      setPage(filter === null || filter === void 0 ? void 0 : filter.page);\n      dispatch(listProducts('', filter.searchKeyword, filter.sortOrder, filter.page, filter));\n    }\n  }, []);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    setPage(1);\n    dispatch(updateFilter({ ...filter,\n      page: 1,\n      searchKeyword\n    }));\n    dispatch(listProducts(category, searchKeyword, sortOrder, 1, filter));\n  };\n\n  const sortHandler = e => {\n    setSortOrder(e.target.value);\n    setPage(1);\n    dispatch(updateFilter({ ...filter,\n      page: 1,\n      sortOrder\n    }));\n    dispatch(listProducts(category, searchKeyword, e.target.value, page, filter));\n  };\n\n  const handlePagination = num => {\n    setPage(num);\n    dispatch(updateFilter({ ...filter,\n      page: num\n    }));\n    dispatch(listProducts(category, searchKeyword, sortOrder, num, filter));\n  };\n\n  const formatPrice = product => {\n    let foundCategory = categories.find(item => item.name === product.Kategorija);\n\n    if (foundCategory && (foundCategory === null || foundCategory === void 0 ? void 0 : foundCategory.discount)) {\n      return product.Cena - (product.Cena * Number(foundCategory.discount) / 100).toFixed(2);\n    }\n\n    return product.Cena;\n  };\n\n  const filterHandler = e => {\n    let newFilterObj = { ...filter,\n      page: 1\n    };\n    if (e.target.value) newFilterObj = { ...filter,\n      [e.target.name]: e.target.value\n    };else delete newFilterObj[e.target.name];\n    setPage(1);\n    console.log('new filter...', newFilterObj);\n    dispatch(updateFilter({ ...newFilterObj\n    }));\n    dispatch(listProducts(category, searchKeyword, sortOrder, 1, newFilterObj));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"-carousel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Carousel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }))), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, \"Ucitavanje...\") : error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, error) : /*#__PURE__*/React.createElement(React.Fragment, null, (categories === null || categories === void 0 ? void 0 : categories.length) && category ? '' : /*#__PURE__*/React.createElement(\"section\", {\n    className: \"filter-wrapper container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 60\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-6 col-md-3 my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitHandler,\n    className: \"search-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Pretraga...\",\n    name: \"searchKeyword\",\n    defaultValue: searchKeyword,\n    onChange: e => setSearchKeyword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 49\n    }\n  }), /*#__PURE__*/React.createElement(\"svg\", {\n    onClick: submitHandler,\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"search\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    className: \"svg-inline--fa fa-search fa-w-16 fa-3x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\",\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 53\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \" col-sm-6 col-md-3 sort my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 37\n    }\n  }, \"Sortiraj:\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"sortOrder\",\n    value: sortOrder,\n    onChange: sortHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 49\n    }\n  }, \"Novije\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"lowest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 49\n    }\n  }, \"Cena rastuce\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"highest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 49\n    }\n  }, \"Cena opadajuce\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2 col-sm-6 my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Sirina\",\n    value: filter.Sirina,\n    onChange: filterHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 49\n    }\n  }, \"-- Sirina --\"), widths === null || widths === void 0 ? void 0 : widths.map(item => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.name,\n      key: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 60\n      }\n    }, item.name);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2 col-sm-6 my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Visina\",\n    value: filter.Visina,\n    onChange: filterHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 49\n    }\n  }, \"-- Visina --\"), heights === null || heights === void 0 ? void 0 : heights.map(item => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.name,\n      key: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 60\n      }\n    }, item.name);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2 col-sm-6 my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Precnik\",\n    value: filter.Precnik,\n    onChange: filterHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 49\n    }\n  }, \"-- Precnik --\"), diameters === null || diameters === void 0 ? void 0 : diameters.map(item => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.name,\n      key: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 60\n      }\n    }, item.name);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 col-sm-6 my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Kategorija\",\n    value: filter.Kategorija,\n    onChange: filterHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 49\n    }\n  }, \"-- Kategorija --\"), categories === null || categories === void 0 ? void 0 : categories.map(item => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.name,\n      key: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 60\n      }\n    }, item.name);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 col-sm-6 my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Proizvodjac\",\n    value: filter.Proizvodjac,\n    onChange: filterHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 49\n    }\n  }, \"-- Proizvodjac --\"), manufacturers === null || manufacturers === void 0 ? void 0 : manufacturers.map(item => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.name,\n      key: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 60\n      }\n    }, item.name);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 col-sm-6 my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Sezona\",\n    value: filter.Sezona,\n    onChange: filterHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 49\n    }\n  }, \"-- Sezona --\"), seasons === null || seasons === void 0 ? void 0 : seasons.map(item => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.name,\n      key: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 60\n      }\n    }, item.name);\n  })))))))), (categories === null || categories === void 0 ? void 0 : categories.length) && category ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row category-screen-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 55\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"info-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 33\n    }\n  }, \"Filter\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitHandler,\n    className: \"search-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Pretraga...\",\n    name: \"searchKeyword\",\n    defaultValue: searchKeyword,\n    onChange: e => setSearchKeyword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"svg\", {\n    onClick: submitHandler,\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"search\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    className: \"svg-inline--fa fa-search fa-w-16 fa-3x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\",\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 41\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Sirina\",\n    value: filter.Sirina,\n    onChange: filterHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 37\n    }\n  }, \"-- Sirina --\"), widths === null || widths === void 0 ? void 0 : widths.map(item => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.name,\n      key: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 48\n      }\n    }, item.name);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Visina\",\n    value: filter.Visina,\n    onChange: filterHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 37\n    }\n  }, \"-- Visina --\"), heights === null || heights === void 0 ? void 0 : heights.map(item => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.name,\n      key: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 48\n      }\n    }, item.name);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Precnik\",\n    value: filter.Precnik,\n    onChange: filterHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 37\n    }\n  }, \"-- Precnik --\"), diameters === null || diameters === void 0 ? void 0 : diameters.map(item => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.name,\n      key: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 48\n      }\n    }, item.name);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Kategorija\",\n    value: filter.Kategorija,\n    onChange: filterHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 37\n    }\n  }, \"-- Kategorija --\"), categories === null || categories === void 0 ? void 0 : categories.map(item => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.name,\n      key: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 48\n      }\n    }, item.name);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Proizvodjac\",\n    value: filter.Proizvodjac,\n    onChange: filterHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 37\n    }\n  }, \"-- Proizvodjac --\"), manufacturers === null || manufacturers === void 0 ? void 0 : manufacturers.map(item => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.name,\n      key: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 48\n      }\n    }, item.name);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"Sezona\",\n    value: filter.Sezona,\n    onChange: filterHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 37\n    }\n  }, \"-- Sezona --\"), seasons === null || seasons === void 0 ? void 0 : seasons.map(item => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.name,\n      key: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 48\n      }\n    }, item.name);\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-9 selected-filter-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 33\n    }\n  }, filter ? Object.keys(filter).map(key => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"selected-filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 48\n      }\n    }, key, \": \", filter[key], \" \", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 102\n      }\n    }, \"x\"));\n  }) : ''), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"sort-order-right\",\n    name: \"sortOrder\",\n    value: sortOrder,\n    onChange: sortHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 41\n    }\n  }, \"Novije\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"lowest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 41\n    }\n  }, \"Cena rastuce\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"highest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 41\n    }\n  }, \"Cena opadajuce\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 29\n    }\n  }, categories && products.length ? products.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-3 col-md-6 my-3 product-wrapper\",\n    key: product._id,\n    onClick: event => history.push(`/product/${product._id}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/product/' + product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      'backgroundImage': `url(${product.Slika})`\n    },\n    className: \"-bg-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 53\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-name px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 49\n    }\n  }, product.Naziv), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-brand px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 49\n    }\n  }, product.Proizvodjac), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-description px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 49\n    }\n  }, product.Specifikacija), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-price px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 49\n    }\n  }, formatPrice(product), \" rsd\"))))) : /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"info-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 38\n    }\n  }, \"Nema rezultata.\")))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 30\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \" products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 25\n    }\n  }, categories && products.length ? products.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-3 col-md-6 my-3 product-wrapper\",\n    key: product._id,\n    onClick: event => history.push(`/product/${product._id}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/product/' + product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      'backgroundImage': `url(${product.Slika})`\n    },\n    className: \"-bg-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 49\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-name px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 45\n    }\n  }, product.Naziv), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-brand px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 45\n    }\n  }, product.Proizvodjac), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-description px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 45\n    }\n  }, product.Specifikacija), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-price px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 45\n    }\n  }, formatPrice(product), \" rsd\"))))) : /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"info-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 34\n    }\n  }, \"Nema rezultata.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pagination-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 33\n    }\n  }, totalItems && products.length ? /*#__PURE__*/React.createElement(Pagination, {\n    activePage: page,\n    itemsCountPerPage: totalPerPage,\n    totalItemsCount: totalItems,\n    pageRangeDisplayed: 5,\n    onChange: handlePagination,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 70\n    }\n  }) : ''))))));\n}\n\nexport default HomeScreen;","map":{"version":3,"sources":["/Users/radosmijatovic/projects/novomak-export/frontend/src/screens/HomeScreen.js"],"names":["React","useState","useEffect","Link","axios","useSelector","useDispatch","listProducts","updateFilter","Rating","useHistory","Pagination","Carousel","WIDTH_LIST","HEIGHT_LIST","DIAMETER","listCategories","Cookie","HomeScreen","props","searchKeyword","setSearchKeyword","sortOrder","setSortOrder","category","match","params","id","productList","state","filter","categories","diameters","manufacturers","heights","widths","seasons","categoryList","page","setPage","totalPerPage","setTotalPerPage","products","loading","error","totalItems","dispatch","history","length","console","log","findCategory","find","item","_id","newFilter","Kategorija","name","Object","keys","submitHandler","e","preventDefault","sortHandler","target","value","handlePagination","num","formatPrice","product","foundCategory","discount","Cena","Number","toFixed","filterHandler","newFilterObj","Sirina","map","Visina","Precnik","Proizvodjac","Sezona","key","event","push","Slika","Naziv","Specifikacija"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {listProducts, updateFilter} from '../actions/productActions';\nimport Rating from '../components/Rating';\nimport {useHistory} from 'react-router-dom';\nimport Pagination from \"react-js-pagination\";\nimport Carousel from \"../components/carousel\";\nimport {WIDTH_LIST, HEIGHT_LIST, DIAMETER} from \"../config\";\nimport {listCategories} from \"../actions/categoryAction\";\nimport Cookie from \"js-cookie\";\n\nfunction HomeScreen(props) {\n    const [searchKeyword, setSearchKeyword] = useState('');\n    const [sortOrder, setSortOrder] = useState('');\n    const category = props.match.params.id ? props.match.params.id : '';\n    const productList = useSelector((state) => state.productList);\n    const filter = useSelector((state) =>  state.filter);\n    const {categories, diameters, manufacturers, heights, widths, seasons} = useSelector((state) => state.categoryList.categories);\n    const [page, setPage] = useState(1);\n    const [totalPerPage, setTotalPerPage] = useState(32);\n    const {products, loading, error, totalItems} = productList;\n    const dispatch = useDispatch();\n    let history = useHistory();\n    useEffect(() => {\n        dispatch(listProducts(category));\n        dispatch(listCategories());\n        return () => {\n            //\n        };\n    }, [category]);\n    useEffect(() => {\n        // dispatch(listProducts(category));\n        // dispatch(listCategories());\n        if (categories?.length && category) {\n        console.log('category ---..', category, categories);\n        let findCategory = categories.find(item => item._id === category);\n            console.log(findCategory);\n            console.log(filter);\n            let newFilter = {...filter, page: 1, Kategorija: findCategory.name}\n            dispatch(updateFilter(newFilter));\n            dispatch(listProducts('', filter.searchKeyword, filter.sortOrder, filter.page, newFilter))\n        }\n        return () => {\n            //\n        };\n    }, [categories]);\n\n    useEffect(() => {\n        if (Object.keys(filter).length) {\n            setSearchKeyword(filter?.searchKeyword);\n            setSortOrder(filter?.sortOrder);\n            setPage(filter?.page);\n            dispatch(listProducts('', filter.searchKeyword, filter.sortOrder, filter.page, filter));\n        }\n    }, []);\n\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n        setPage(1);\n        dispatch(updateFilter({...filter, page: 1, searchKeyword}));\n        dispatch(listProducts(category, searchKeyword, sortOrder, 1, filter));\n    };\n    const sortHandler = (e) => {\n        setSortOrder(e.target.value);\n        setPage(1);\n        dispatch(updateFilter({...filter, page: 1, sortOrder}));\n        dispatch(listProducts(category, searchKeyword, e.target.value, page, filter));\n    };\n    const handlePagination = (num) => {\n        setPage(num);\n        dispatch(updateFilter({...filter, page: num}));\n        dispatch(listProducts(category, searchKeyword, sortOrder, num, filter));\n    };\n    const formatPrice = (product) => {\n        let foundCategory = categories.find(item => item.name === product.Kategorija);\n        if (foundCategory && foundCategory?.discount) {\n            return product.Cena - ((product.Cena * Number(foundCategory.discount)) / 100).toFixed(2);\n        }\n        return product.Cena;\n    };\n    const filterHandler = (e) => {\n        let newFilterObj = {...filter, page: 1};\n        if (e.target.value)\n            newFilterObj = {\n                ...filter,\n                [e.target.name]: e.target.value\n            };\n        else\n            delete newFilterObj[e.target.name];\n        setPage(1);\n        console.log('new filter...', newFilterObj);\n        dispatch(updateFilter({...newFilterObj}));\n        dispatch(listProducts(category, searchKeyword, sortOrder, 1, newFilterObj));\n    };\n\n    return (\n        <>\n            <section className=\"-carousel\">\n                <div className=\"carousel-wrapper\">\n                    <Carousel/>\n                </div>\n            </section>\n\n\n\n            {loading ? (\n                <div>Ucitavanje...</div>\n            ) : error ? (\n                <div>{error}</div>\n            ) : (\n                <>\n                    {categories?.length && category ? '' : <section className=\"filter-wrapper container\">\n                        <div className=\"row m-0\">\n                            <div className=\"col-md-12 p-0\">\n                                <div className=\"container p-0\">\n                                    <div className=\"row filter\">\n                                        <div className=\"col-sm-6 col-md-3 my-3\">\n                                            <form onSubmit={submitHandler} className=\"search-input\">\n                                                <input\n                                                    placeholder=\"Pretraga...\"\n                                                    name=\"searchKeyword\"\n                                                    defaultValue={searchKeyword}\n                                                    onChange={(e) => setSearchKeyword(e.target.value)}\n                                                />\n                                                <svg onClick={submitHandler} aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"search\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"\n                                                     className=\"svg-inline--fa fa-search fa-w-16 fa-3x\">\n                                                    <path fill=\"currentColor\"\n                                                          d=\"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"\n                                                          className=\"\"></path>\n                                                </svg>\n                                                {/*<button type=\"submit\">Search</button>*/}\n                                            </form>\n                                        </div>\n                                        <div className=\" col-sm-6 col-md-3 sort my-3\">\n                                    <span className=\"mr-1\">\n                                        Sortiraj:\n                                    </span>\n\n                                            <select name=\"sortOrder\" value={sortOrder} onChange={sortHandler}>\n                                                <option value=\"\">Novije</option>\n                                                <option value=\"lowest\">Cena rastuce</option>\n                                                <option value=\"highest\">Cena opadajuce</option>\n                                            </select>\n                                        </div>\n                                        <div className=\"col-md-2 col-sm-6 my-3\">\n                                            <select name=\"Sirina\" value={filter.Sirina} onChange={filterHandler}>\n                                                <option value=\"\">-- Sirina --</option>\n                                                {widths?.map(item => {\n                                                    return <option value={item.name} key={item.name}>{item.name}</option>\n                                                })}\n                                            </select>\n                                        </div>\n                                        <div className=\"col-md-2 col-sm-6 my-3\">\n                                            <select name=\"Visina\" value={filter.Visina} onChange={filterHandler}>\n                                                <option value=\"\">-- Visina --</option>\n                                                {heights?.map(item => {\n                                                    return <option value={item.name} key={item.name}>{item.name}</option>\n                                                })}\n                                            </select>\n                                        </div>\n                                        <div className=\"col-md-2 col-sm-6 my-3\">\n                                            <select name=\"Precnik\" value={filter.Precnik} onChange={filterHandler}>\n                                                <option value=\"\">-- Precnik --</option>\n                                                {diameters?.map(item => {\n                                                    return <option value={item.name} key={item.name}>{item.name}</option>\n                                                })}\n                                            </select>\n                                        </div>\n                                        <div className=\"col-md-4 col-sm-6 my-3\">\n                                            <select name=\"Kategorija\" value={filter.Kategorija} onChange={filterHandler}>\n                                                <option value=\"\">-- Kategorija --</option>\n                                                {categories?.map(item => {\n                                                    return <option value={item.name} key={item.name}>{item.name}</option>\n                                                })}\n                                            </select>\n                                        </div>\n                                        <div className=\"col-md-4 col-sm-6 my-3\">\n                                            <select name=\"Proizvodjac\" value={filter.Proizvodjac} onChange={filterHandler}>\n                                                <option value=\"\">-- Proizvodjac --</option>\n                                                {manufacturers?.map(item => {\n                                                    return <option value={item.name} key={item.name}>{item.name}</option>\n                                                })}\n                                            </select>\n                                        </div>\n                                        <div className=\"col-md-4 col-sm-6 my-3\">\n                                            <select name=\"Sezona\" value={filter.Sezona} onChange={filterHandler}>\n                                                <option value=\"\">-- Sezona --</option>\n                                                {seasons?.map(item => {\n                                                    return <option value={item.name} key={item.name}>{item.name}</option>\n                                                })}\n                                            </select>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n\n                    </section>}\n                    {categories?.length && category ? <div className=\"row category-screen-wrapper\">\n                        <div className=\"col-md-3 filter\">\n                            <div className=\"col-sm-12\">\n                                <h2 className=\"info-text\">Filter</h2>\n                            </div>\n                            <div className=\"col-sm-12\">\n                                <form onSubmit={submitHandler} className=\"search-input\">\n                                    <input\n                                        placeholder=\"Pretraga...\"\n                                        name=\"searchKeyword\"\n                                        defaultValue={searchKeyword}\n                                        onChange={(e) => setSearchKeyword(e.target.value)}\n                                    />\n                                    <svg onClick={submitHandler} aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"search\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"\n                                         className=\"svg-inline--fa fa-search fa-w-16 fa-3x\">\n                                        <path fill=\"currentColor\"\n                                              d=\"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"\n                                              className=\"\"></path>\n                                    </svg>\n                                </form>\n                            </div>\n                            <div className=\"col-md-12\">\n                                <select name=\"Sirina\" value={filter.Sirina} onChange={filterHandler}>\n                                    <option value=\"\">-- Sirina --</option>\n                                    {widths?.map(item => {\n                                        return <option value={item.name} key={item.name}>{item.name}</option>\n                                    })}\n                                </select>\n                            </div>\n                            <div className=\"col-md-12\">\n                                <select name=\"Visina\" value={filter.Visina} onChange={filterHandler}>\n                                    <option value=\"\">-- Visina --</option>\n                                    {heights?.map(item => {\n                                        return <option value={item.name} key={item.name}>{item.name}</option>\n                                    })}\n                                </select>\n                            </div>\n                            <div className=\"col-md-12\">\n                                <select name=\"Precnik\" value={filter.Precnik} onChange={filterHandler}>\n                                    <option value=\"\">-- Precnik --</option>\n                                    {diameters?.map(item => {\n                                        return <option value={item.name} key={item.name}>{item.name}</option>\n                                    })}\n                                </select>\n                            </div>\n                            <div className=\"col-md-12\">\n                                <select name=\"Kategorija\" value={filter.Kategorija} onChange={filterHandler}>\n                                    <option value=\"\">-- Kategorija --</option>\n                                    {categories?.map(item => {\n                                        return <option value={item.name} key={item.name}>{item.name}</option>\n                                    })}\n                                </select>\n                            </div>\n                            <div className=\"col-md-12\">\n                                <select name=\"Proizvodjac\" value={filter.Proizvodjac} onChange={filterHandler}>\n                                    <option value=\"\">-- Proizvodjac --</option>\n                                    {manufacturers?.map(item => {\n                                        return <option value={item.name} key={item.name}>{item.name}</option>\n                                    })}\n                                </select>\n                            </div>\n                            <div className=\"col-md-12\">\n                                <select name=\"Sezona\" value={filter.Sezona} onChange={filterHandler}>\n                                    <option value=\"\">-- Sezona --</option>\n                                    {seasons?.map(item => {\n                                        return <option value={item.name} key={item.name}>{item.name}</option>\n                                    })}\n                                </select>\n                            </div>\n                        </div>\n                        <div className=\"col-md-9\">\n                            <div className=\"row\">\n                                <div className=\"col-md-9 selected-filter-wrapper\">\n                                    {filter ? Object.keys(filter).map(key => {\n                                        return <div className=\"selected-filter\">{key}: {filter[key]} <span>x</span></div>\n                                    }) : ''}\n                                </div>\n                                <div className=\"col-md-3\">\n                                    <select className=\"sort-order-right\" name=\"sortOrder\" value={sortOrder} onChange={sortHandler}>\n                                        <option value=\"\">Novije</option>\n                                        <option value=\"lowest\">Cena rastuce</option>\n                                        <option value=\"highest\">Cena opadajuce</option>\n                                    </select>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                {categories && products.length ? products.map((product) => (\n                                    <div className=\"col-lg-3 col-md-6 my-3 product-wrapper\" key={product._id} onClick={event => history.push(`/product/${product._id}`)}>\n                                        <div className=\"product\">\n                                            <Link to={'/product/' + product._id}>\n                                                <div className=\"link\">\n                                                    <div style={{'backgroundImage': `url(${product.Slika})`}} className=\"-bg-image\">\n\n                                                    </div>\n                                                </div>\n                                                <div className=\"product-name px-3\">\n                                                    {product.Naziv}\n                                                </div>\n                                                <div className=\"product-brand px-3\">{product.Proizvodjac}</div>\n                                                <div className=\"product-description px-3\">{product.Specifikacija}</div>\n                                                <div className=\"product-price px-3\">{formatPrice(product)} rsd</div>\n                                            </Link>\n                                        </div>\n                                    </div>\n                                )) : <h2 className=\"info-text\">Nema rezultata.</h2>}\n                            </div>\n\n                        </div>\n                    </div> : <div className=\"\">\n                        <div className=\" products\">\n                            {categories && products.length ? products.map((product) => (\n                                <div className=\"col-lg-3 col-md-6 my-3 product-wrapper\" key={product._id} onClick={event => history.push(`/product/${product._id}`)}>\n                                    <div className=\"product\">\n                                        <Link to={'/product/' + product._id}>\n                                            <div className=\"link\">\n                                                <div style={{'backgroundImage': `url(${product.Slika})`}} className=\"-bg-image\">\n\n                                                </div>\n                                            </div>\n                                            <div className=\"product-name px-3\">\n                                                {product.Naziv}\n                                            </div>\n                                            <div className=\"product-brand px-3\">{product.Proizvodjac}</div>\n                                            <div className=\"product-description px-3\">{product.Specifikacija}</div>\n                                            <div className=\"product-price px-3\">{formatPrice(product)} rsd</div>\n                                        </Link>\n                                    </div>\n                                </div>\n                            )) : <h2 className=\"info-text\">Nema rezultata.</h2>}\n\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col-md-12\">\n                                <div className=\"pagination-wrapper\">\n                                    {totalItems && products.length ? <Pagination\n                                        activePage={page}\n                                        itemsCountPerPage={totalPerPage}\n                                        totalItemsCount={totalItems}\n                                        pageRangeDisplayed={5}\n                                        onChange={handlePagination}\n                                    /> : ''}\n                                </div>\n\n                            </div>\n                        </div>\n\n                    </div>}\n\n                </>\n            )}\n        </>\n    );\n}\n\nexport default HomeScreen;\n"]},"metadata":{},"sourceType":"module"}