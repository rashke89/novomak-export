{"ast":null,"code":"var _jsxFileName = \"/Users/radosmijatovic/projects/novomak-export/frontend/src/screens/HeaderScreen.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport axios, { AxiosInstance as Axios } from 'axios';\nimport { saveProduct, listProducts, deleteProdcut } from '../actions/productActions';\nimport { deleteCategory, listCategories, saveCategory } from \"../actions/categoryAction\";\nimport { CATEGORY_SAVE_REQUEST } from \"../constants/categoryConstants\";\nimport * as config from \"../config\";\n\nfunction HeaderScreen(props) {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [id, setId] = useState('');\n  const [text, setText] = useState('');\n  const [button, setButton] = useState('');\n  const [position, setPosition] = useState('0');\n  const [image, setImage] = useState('');\n  const [link, setLink] = useState('');\n  const [headers, setHeaders] = useState([]);\n  const [selectedHeader, setSelectedHeader] = useState([]);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    // if (successSave) {\n    //     setModalVisible(false);\n    // }\n    listHeaders();\n    return () => {//\n    };\n  }, []);\n\n  const handlePosition = e => {\n    console.log(e.target.value);\n    setPosition(e.target.value);\n  };\n\n  const listHeaders = () => {\n    axios.get(`/api/users/header`).then(data => {\n      setHeaders(data.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const openModal = product => {\n    setText(product.text);\n    setButton(product.button);\n    setImage(product.image);\n    setPosition(product.position);\n    setId(product._id);\n    setLink(product.link);\n  };\n\n  const uploadFileHandler = e => {\n    const file = e.target.files[0];\n    const bodyFormData = new FormData();\n    bodyFormData.append('image', file);\n    axios.post('/api/uploads/header', bodyFormData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(response => {\n      setImage(response.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    let headerBody = {\n      text,\n      button,\n      position,\n      id,\n      image,\n      link\n    };\n    axios.post(`/api/users/header`, headerBody).then(data => {\n      document.querySelector(\".close\").click();\n      listHeaders();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const deleteHandler = product => {\n    axios.delete(`/api/users/header/${product._id}`).then(data => {\n      listHeaders();\n    }).catch(error => {\n      console.log('greska u brisanju headera', error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content content-margined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-header mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"Headers\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary\",\n    \"data-toggle\": \"modal\",\n    \"data-target\": \"#exampleModal\",\n    onClick: e => openModal({\n      text: '',\n      position: '0',\n      button: '',\n      _id: '',\n      link: '',\n      image: ''\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, \"Kreiraj header\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal fade bd-example-modal-lg headers-modal\",\n    id: \"exampleModal\",\n    tabIndex: \"-1\",\n    role: \"dialog\",\n    \"aria-labelledby\": \"exampleModalLabel\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-dialog\",\n    role: \"document\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"modal-title\",\n    id: \"exampleModalLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 29\n    }\n  }, id ? 'Izmeni' : 'Kreiraj', \" header\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 33\n    }\n  }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `col-md-6`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 45\n    }\n  }, \"Text\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: text,\n    id: \"name\",\n    onChange: e => setText(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"brand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 45\n    }\n  }, \"Dugme text\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"brand\",\n    value: button,\n    id: \"brand\",\n    onChange: e => setButton(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 45\n    }\n  }, \"Dugme link\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"link\",\n    value: link,\n    id: \"link\",\n    onChange: e => setLink(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"brand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 45\n    }\n  }, \"Pozicija\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"position\",\n    value: position,\n    onChange: handlePosition,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 49\n    }\n  }, \"Levo\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 49\n    }\n  }, \"Desno\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 45\n    }\n  }, \"Slika\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"image\",\n    value: image,\n    id: \"image\",\n    onChange: e => setImage(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"w-100\",\n    onChange: uploadFileHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 45\n    }\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary\",\n    id: \"close-modal-btn\",\n    \"data-dismiss\": \"modal\",\n    onClick: e => {\n      dispatch({\n        type: CATEGORY_SAVE_REQUEST,\n        payload: ''\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 29\n    }\n  }, \"Odustani\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    onClick: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 29\n    }\n  }, id ? 'Izmeni' : 'Kreiraj'))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-list headers-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 25\n    }\n  }, \"Text\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 25\n    }\n  }, \"Dugme text\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }, \"Pozicija\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  }, \"Link\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 25\n    }\n  }, \"Slika\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 21\n    }\n  }, headers === null || headers === void 0 ? void 0 : headers.map(product => /*#__PURE__*/React.createElement(\"tr\", {\n    key: product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 29\n    }\n  }, product.text), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 29\n    }\n  }, product.button), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 29\n    }\n  }, product.position ? 'Desno' : 'Levo'), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 29\n    }\n  }, product.link), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `${config.formatImagePath(product.image)}`,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-toggle\": \"modal\",\n    \"data-target\": \"#exampleModal\",\n    className: \"button\",\n    onClick: () => openModal(product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 33\n    }\n  }, \"Izmeni\"), headers.length > 1 ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    onClick: () => deleteHandler(product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 56\n    }\n  }, \"Obrisi\") : '')))))));\n}\n\nexport default HeaderScreen;","map":{"version":3,"sources":["/Users/radosmijatovic/projects/novomak-export/frontend/src/screens/HeaderScreen.js"],"names":["React","useEffect","useState","useSelector","useDispatch","axios","AxiosInstance","Axios","saveProduct","listProducts","deleteProdcut","deleteCategory","listCategories","saveCategory","CATEGORY_SAVE_REQUEST","config","HeaderScreen","props","modalVisible","setModalVisible","id","setId","text","setText","button","setButton","position","setPosition","image","setImage","link","setLink","headers","setHeaders","selectedHeader","setSelectedHeader","dispatch","listHeaders","handlePosition","e","console","log","target","value","get","then","data","catch","error","openModal","product","_id","uploadFileHandler","file","files","bodyFormData","FormData","append","post","response","err","submitHandler","preventDefault","headerBody","document","querySelector","click","deleteHandler","delete","type","payload","map","formatImagePath","length"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport axios, {AxiosInstance as Axios} from 'axios';\nimport {\n    saveProduct,\n    listProducts,\n    deleteProdcut,\n} from '../actions/productActions';\nimport {deleteCategory, listCategories, saveCategory} from \"../actions/categoryAction\";\nimport {CATEGORY_SAVE_REQUEST} from \"../constants/categoryConstants\";\nimport * as config from \"../config\";\n\nfunction HeaderScreen(props) {\n    const [modalVisible, setModalVisible] = useState(false);\n    const [id, setId] = useState('');\n    const [text, setText] = useState('');\n    const [button, setButton] = useState('');\n    const [position, setPosition] = useState('0');\n    const [image, setImage] = useState('');\n    const [link, setLink] = useState('');\n    const [headers, setHeaders] = useState([]);\n    const [selectedHeader, setSelectedHeader] = useState([]);\n    const dispatch = useDispatch();\n    useEffect(() => {\n        // if (successSave) {\n        //     setModalVisible(false);\n        // }\n        listHeaders()\n        return () => {\n            //\n        };\n    }, []);\n    const handlePosition = (e) => {\n        console.log(e.target.value);\n        setPosition(e.target.value);\n    };\n\n    const listHeaders = () => {\n        axios.get(`/api/users/header`)\n            .then(data => {\n                setHeaders(data.data)\n            })\n            .catch(error => {\n                console.log(error);\n            })\n    };\n    const openModal = (product) => {\n        setText(product.text);\n        setButton(product.button);\n        setImage(product.image);\n        setPosition(product.position);\n        setId(product._id);\n        setLink(product.link);\n    };\n    const uploadFileHandler = (e) => {\n        const file = e.target.files[0];\n        const bodyFormData = new FormData();\n        bodyFormData.append('image', file);\n        axios\n            .post('/api/uploads/header', bodyFormData, {\n                headers: {\n                    'Content-Type': 'multipart/form-data',\n                },\n            })\n            .then((response) => {\n                setImage(response.data);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    };\n    const submitHandler = (e) => {\n        e.preventDefault();\n        let headerBody = {text, button, position, id, image, link};\n        axios.post(`/api/users/header`, headerBody)\n            .then(data => {\n                document.querySelector(\".close\").click();\n                listHeaders()\n            })\n            .catch(error => {\n                console.log(error);\n            })\n    };\n    const deleteHandler = (product) => {\n        axios.delete(`/api/users/header/${product._id}`)\n            .then(data => {\n                listHeaders();\n            })\n            .catch(error => {\n                console.log('greska u brisanju headera', error);\n            })\n    };\n\n    return (\n        <div className=\"content content-margined\">\n            <div className=\"product-header mb-4\">\n                <h3>Headers</h3>\n                <button type=\"button\" className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModal\" onClick={e => openModal({text: '', position: '0', button: '', _id: '', link: '', image: ''})}>\n                    Kreiraj header\n                </button>\n            </div>\n\n            <div className=\"modal fade bd-example-modal-lg headers-modal\" id=\"exampleModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h2 className=\"modal-title\" id=\"exampleModalLabel\">{id ? 'Izmeni' : 'Kreiraj'} header</h2>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <div className=\"form-modal\">\n                                <form onSubmit={submitHandler}>\n                                    <div className=\"row\">\n                                        <div className={`col-md-6`}>\n                                            <label htmlFor=\"name\">Text</label>\n                                            <input\n                                                type=\"text\"\n                                                name=\"name\"\n                                                value={text}\n                                                id=\"name\"\n                                                onChange={(e) => setText(e.target.value)}\n                                            />\n\n                                        </div>\n                                        <div className=\"col-md-6\">\n                                            <label htmlFor=\"brand\">Dugme text</label>\n                                            <input\n                                                type=\"text\"\n                                                name=\"brand\"\n                                                value={button}\n                                                id=\"brand\"\n                                                onChange={(e) => setButton(e.target.value)}\n                                            ></input>\n                                        </div>\n                                        <div className=\"col-md-6\">\n                                            <label htmlFor=\"link\">Dugme link</label>\n                                            <input\n                                                type=\"text\"\n                                                name=\"link\"\n                                                value={link}\n                                                id=\"link\"\n                                                onChange={(e) => setLink(e.target.value)}\n                                            ></input>\n                                        </div>\n                                        <div className=\"col-md-6\">\n                                            <label htmlFor=\"brand\">Pozicija</label>\n                                            <select name=\"position\" value={position} onChange={handlePosition}>\n                                                <option value=\"0\">Levo</option>\n                                                <option value=\"1\">Desno</option>\n                                            </select>\n                                        </div>\n                                        <div className=\"col-md-6\">\n                                            <label htmlFor=\"image\">Slika</label>\n                                            <input\n                                                type=\"text\"\n                                                name=\"image\"\n                                                value={image}\n                                                id=\"image\"\n                                                onChange={(e) => setImage(e.target.value)}\n                                            ></input>\n                                            <input type=\"file\"\n                                                   className=\"w-100\"\n                                                   onChange={uploadFileHandler}></input>\n                                        </div>\n                                        {/*<div className=\"col-md-12\">*/}\n                                        {/*    {categorySave && categorySave.hasOwnProperty('loading') && !categorySave.loading && <div className=\"col-md-12 mt-3\">*/}\n                                        {/*        <p className={!categorySave?.success ? 'error-text p-3' : 'success-text p-3'}>*/}\n                                        {/*            [STATUS] {id ? 'izmena' : 'kreiranje'} kategorije: {categorySave?.category?.message}*/}\n                                        {/*        </p>*/}\n                                        {/*    </div>}*/}\n                                        {/*</div>*/}\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button type=\"button\" className=\"btn btn-secondary\" id=\"close-modal-btn\" data-dismiss=\"modal\" onClick={e => {\n                                dispatch({type: CATEGORY_SAVE_REQUEST, payload: ''});\n                            }}>Odustani</button>\n                            <button type=\"submit\" className=\"btn btn-primary\" onClick={submitHandler}>\n                                {id ? 'Izmeni' : 'Kreiraj'}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {<div className=\"product-list headers-list\">\n                <table className=\"table\">\n                    <thead>\n                    <tr>\n                        <th>Text</th>\n                        <th>Dugme text</th>\n                        <th>Pozicija</th>\n                        <th>Link</th>\n                        <th>Slika</th>\n                        <th></th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {headers?.map((product) => (\n                        <tr key={product._id}>\n                            <td>{product.text}</td>\n                            <td>{product.button}</td>\n                            <td>{product.position ? 'Desno' : 'Levo'}</td>\n                            <td>{product.link}</td>\n                            <td>\n                                <img src={`${config.formatImagePath(product.image)}`} alt=\"\"/>\n                            </td>\n                            <td>\n                                <button type=\"button\" data-toggle=\"modal\" data-target=\"#exampleModal\" className=\"button\" onClick={() => openModal(product)}>\n                                    Izmeni\n                                </button>\n                                { headers.length > 1 ? <button\n                                    className=\"button\"\n                                    onClick={() => deleteHandler(product)}\n                                >\n                                    Obrisi\n                                </button> : ''}\n                            </td>\n                        </tr>\n                    ))}\n                    </tbody>\n                </table>\n            </div>}\n        </div>\n    );\n}\n\nexport default HeaderScreen;\n"]},"metadata":{},"sourceType":"module"}