{"ast":null,"code":"var _jsxFileName = \"/Users/radosmijatovic/projects/novomak-export/frontend/src/screens/HomeScreen.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { listProducts } from '../actions/productActions';\nimport Rating from '../components/Rating';\nimport { useHistory } from 'react-router-dom';\nimport Pagination from \"react-js-pagination\";\n\nfunction HomeScreen(props) {\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [sortOrder, setSortOrder] = useState('');\n  const category = props.match.params.id ? props.match.params.id : '';\n  const productList = useSelector(state => state.productList);\n  const [page, setPage] = useState(1);\n  const [totalPetPage, setTotalPetPage] = useState(2);\n  const {\n    products,\n    loading,\n    error\n  } = productList;\n  const dispatch = useDispatch();\n  let history = useHistory();\n  useEffect(() => {\n    dispatch(listProducts(category));\n    return () => {//\n    };\n  }, [category]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(listProducts(category, searchKeyword, sortOrder));\n  };\n\n  const sortHandler = e => {\n    console.log(e.target.value);\n    setSortOrder(e.target.value);\n    dispatch(listProducts(category, searchKeyword, e.target.value));\n  };\n\n  const handlePagination = num => {\n    console.log(num);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, category && /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 26\n    }\n  }, category), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"searchKeyword\",\n    onChange: e => setSearchKeyword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, \"Search\"))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"Sortiraj po:\", ' ', /*#__PURE__*/React.createElement(\"select\", {\n    name: \"sortOrder\",\n    onChange: sortHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, \"Novije\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"lowest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, \"Cena rastuce\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"highest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, \"Cena opadajuce\")))), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, \"Loading...\") : error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, error) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, products.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 my-3 product-wrapper\",\n    key: product._id,\n    onClick: event => history.push(`/product/${product._id}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      'backgroundImage': `url(${product.Slika})`\n    },\n    className: \"-bg-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-name px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/product/' + product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 49\n    }\n  }, product.Naziv)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-brand px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 45\n    }\n  }, product.Proizvodjac), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-description px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 45\n    }\n  }, product.Specifikacija), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-price px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 45\n    }\n  }, product.Cena, \" rsd\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-rating px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 45\n    }\n  })))), /*#__PURE__*/React.createElement(Pagination, {\n    activeClass: 'text-white',\n    activePage: 5,\n    itemsCountPerPage: 10,\n    totalItemsCount: 450,\n    pageRangeDisplayed: 5,\n    onChange: handlePagination,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  }))));\n}\n\nexport default HomeScreen;","map":{"version":3,"sources":["/Users/radosmijatovic/projects/novomak-export/frontend/src/screens/HomeScreen.js"],"names":["React","useState","useEffect","Link","axios","useSelector","useDispatch","listProducts","Rating","useHistory","Pagination","HomeScreen","props","searchKeyword","setSearchKeyword","sortOrder","setSortOrder","category","match","params","id","productList","state","page","setPage","totalPetPage","setTotalPetPage","products","loading","error","dispatch","history","submitHandler","e","preventDefault","sortHandler","console","log","target","value","handlePagination","num","map","product","_id","event","push","Slika","Naziv","Proizvodjac","Specifikacija","Cena"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {listProducts} from '../actions/productActions';\nimport Rating from '../components/Rating';\nimport { useHistory } from 'react-router-dom';\nimport Pagination from \"react-js-pagination\";\n\nfunction HomeScreen(props) {\n    const [searchKeyword, setSearchKeyword] = useState('');\n    const [sortOrder, setSortOrder] = useState('');\n    const category = props.match.params.id ? props.match.params.id : '';\n    const productList = useSelector((state) => state.productList);\n    const [page, setPage] = useState(1);\n    const [totalPetPage, setTotalPetPage] = useState(2);\n    const {products, loading, error} = productList;\n    const dispatch = useDispatch();\n    let history = useHistory();\n    useEffect(() => {\n        dispatch(listProducts(category));\n\n        return () => {\n            //\n        };\n    }, [category]);\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n        dispatch(listProducts(category, searchKeyword, sortOrder));\n    };\n    const sortHandler = (e) => {\n        console.log(e.target.value);\n        setSortOrder(e.target.value);\n        dispatch(listProducts(category, searchKeyword, e.target.value));\n    };\n    const handlePagination = (num) => {\n        console.log(num);\n    }\n\n    return (\n        <>\n            {category && <h2>{category}</h2>}\n\n            <ul className=\"filter\">\n                <li>\n                    <form onSubmit={submitHandler}>\n                        <input\n                            name=\"searchKeyword\"\n                            onChange={(e) => setSearchKeyword(e.target.value)}\n                        />\n                        <button type=\"submit\">Search</button>\n                    </form>\n                </li>\n                <li>\n                    Sortiraj po:{' '}\n                    <select name=\"sortOrder\" onChange={sortHandler}>\n                        <option value=\"\">Novije</option>\n                        <option value=\"lowest\">Cena rastuce</option>\n                        <option value=\"highest\">Cena opadajuce</option>\n                    </select>\n                </li>\n            </ul>\n            {loading ? (\n                <div>Loading...</div>\n            ) : error ? (\n                <div>{error}</div>\n            ) : (\n                <div className=\"container products\">\n                    <div className=\"row\">\n                        {products.map((product) => (\n                                <div className=\"col-md-3 my-3 product-wrapper\" key={product._id} onClick={event => history.push(`/product/${product._id}`)}>\n                                    <div className=\"product\">\n                                        {/*<Link to={'/product/' + product._id}>*/}\n                                        <a >\n                                            <div style={{'backgroundImage': `url(${product.Slika})`}} className=\"-bg-image\">\n\n                                            </div>\n                                        </a>\n                                            <div className=\"product-name px-3\">\n                                                <Link to={'/product/' + product._id}>{product.Naziv}</Link>\n                                            </div>\n                                            <div className=\"product-brand px-3\">{product.Proizvodjac}</div>\n                                            <div className=\"product-description px-3\">{product.Specifikacija}</div>\n                                            <div className=\"product-price px-3\">{product.Cena} rsd</div>\n                                            <div className=\"product-rating px-3\">\n                                                {/*<Rating*/}\n                                                {/*    value={product.rating}*/}\n                                                {/*    text={product.numReviews + ' reviews'}*/}\n                                                {/*/>*/}\n                                            </div>\n\n                                    </div>\n                                </div>\n                        ))}\n                        <Pagination\n                            activeClass={'text-white'}\n                            activePage={5}\n                            itemsCountPerPage={10}\n                            totalItemsCount={450}\n                            pageRangeDisplayed={5}\n                            onChange={handlePagination}\n                        />\n                    </div>\n\n                </div>\n            )}\n        </>\n    );\n}\n\nexport default HomeScreen;\n"]},"metadata":{},"sourceType":"module"}