{"ast":null,"code":"import { CATEGORY_LIST_REQUEST, CATEGORY_LIST_SUCCESS, CATEGORY_LIST_FAIL, CATEGORY_DETAILS_REQUEST, CATEGORY_DETAILS_SUCCESS, CATEGORY_DETAILS_FAIL, CATEGORY_SAVE_REQUEST, CATEGORY_SAVE_SUCCESS, CATEGORY_SAVE_FAIL, CATEGORY_DELETE_SUCCESS, CATEGORY_DELETE_FAIL, CATEGORY_DELETE_REQUEST, CATEGORY_REVIEW_SAVE_REQUEST, CATEGORY_REVIEW_SAVE_FAIL, CATEGORY_REVIEW_SAVE_SUCCESS } from '../constants/categoryConstants';\nimport axios from 'axios';\nimport Axios from 'axios';\n\nconst listCategories = (category = '', searchKeyword = '', sortOrder = '') => async dispatch => {\n  try {\n    // debugger\n    dispatch({\n      type: CATEGORY_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get('/api/category');\n    dispatch({\n      type: CATEGORY_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: CATEGORY_LIST_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst saveCategory = category => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: CATEGORY_SAVE_REQUEST,\n      payload: category\n    });\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n\n    if (!category._id) {\n      const {\n        data\n      } = await Axios.post('/api/category', category, {\n        headers: {\n          Authorization: 'Bearer ' + userInfo.token\n        }\n      });\n      dispatch({\n        type: CATEGORY_SAVE_SUCCESS,\n        payload: data\n      });\n    } else {\n      console.log('uso je u else....', category);\n      const {\n        data\n      } = await Axios.put(`/api/products/${category.selectedCategory}/${category._id}`, product, {\n        headers: {\n          Authorization: 'Bearer ' + userInfo.token\n        }\n      });\n      dispatch({\n        type: PRODUCT_SAVE_SUCCESS,\n        payload: data\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: CATEGORY_SAVE_FAIL,\n      payload: error.message\n    });\n  }\n}; // const detailsCategory = (productId) => async (dispatch) => {\n//   try {\n//     dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\n//     const { data } = await axios.get('/api/products/' + productId);\n//     dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\n//   } catch (error) {\n//     dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.message });\n//   }\n// };\n\n\nconst deleteCategory = categoryId => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n    dispatch({\n      type: CATEGORY_DELETE_REQUEST,\n      payload: categoryId\n    });\n    const {\n      data\n    } = await axios.delete('/api/category/' + categoryId, {\n      headers: {\n        Authorization: 'Bearer ' + userInfo.token\n      }\n    });\n    dispatch({\n      type: CATEGORY_DELETE_SUCCESS,\n      payload: data,\n      success: true\n    });\n  } catch (error) {\n    dispatch({\n      type: CATEGORY_DELETE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nexport { listCategories, saveCategory, deleteCategory };","map":{"version":3,"sources":["/Users/radosmijatovic/projects/novomak-export/frontend/src/actions/categoryAction.js"],"names":["CATEGORY_LIST_REQUEST","CATEGORY_LIST_SUCCESS","CATEGORY_LIST_FAIL","CATEGORY_DETAILS_REQUEST","CATEGORY_DETAILS_SUCCESS","CATEGORY_DETAILS_FAIL","CATEGORY_SAVE_REQUEST","CATEGORY_SAVE_SUCCESS","CATEGORY_SAVE_FAIL","CATEGORY_DELETE_SUCCESS","CATEGORY_DELETE_FAIL","CATEGORY_DELETE_REQUEST","CATEGORY_REVIEW_SAVE_REQUEST","CATEGORY_REVIEW_SAVE_FAIL","CATEGORY_REVIEW_SAVE_SUCCESS","axios","Axios","listCategories","category","searchKeyword","sortOrder","dispatch","type","data","get","payload","error","message","saveCategory","getState","userSignin","userInfo","_id","post","headers","Authorization","token","console","log","put","selectedCategory","product","PRODUCT_SAVE_SUCCESS","deleteCategory","categoryId","delete","success"],"mappings":"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","sourcesContent":["import {\n    CATEGORY_LIST_REQUEST,\n    CATEGORY_LIST_SUCCESS,\n    CATEGORY_LIST_FAIL,\n    CATEGORY_DETAILS_REQUEST,\n    CATEGORY_DETAILS_SUCCESS,\n    CATEGORY_DETAILS_FAIL,\n    CATEGORY_SAVE_REQUEST,\n    CATEGORY_SAVE_SUCCESS,\n    CATEGORY_SAVE_FAIL,\n    CATEGORY_DELETE_SUCCESS,\n    CATEGORY_DELETE_FAIL,\n    CATEGORY_DELETE_REQUEST,\n    CATEGORY_REVIEW_SAVE_REQUEST,\n    CATEGORY_REVIEW_SAVE_FAIL,\n    CATEGORY_REVIEW_SAVE_SUCCESS,\n} from '../constants/categoryConstants';\nimport axios from 'axios';\nimport Axios from 'axios';\n\nconst listCategories = (\n    category = '',\n    searchKeyword = '',\n    sortOrder = ''\n) => async (dispatch) => {\n    try {\n        // debugger\n        dispatch({type: CATEGORY_LIST_REQUEST});\n        const {data} = await axios.get('/api/category');\n        dispatch({type: CATEGORY_LIST_SUCCESS, payload: data});\n    } catch (error) {\n        dispatch({type: CATEGORY_LIST_FAIL, payload: error.message});\n    }\n};\nconst saveCategory = (category) => async (dispatch, getState) => {\n    try {\n        dispatch({type: CATEGORY_SAVE_REQUEST, payload: category});\n        const {\n            userSignin: {userInfo},\n        } = getState();\n        if (!category._id) {\n            const {data} = await Axios.post('/api/category', category, {\n                headers: {\n                    Authorization: 'Bearer ' + userInfo.token,\n                },\n            });\n            dispatch({type: CATEGORY_SAVE_SUCCESS, payload: data});\n        } else {\n            console.log('uso je u else....', category);\n            const { data } = await Axios.put(\n                `/api/products/${category.selectedCategory}/${category._id}`,\n                product,\n                {\n                  headers: {\n                    Authorization: 'Bearer ' + userInfo.token,\n                  },\n                }\n            );\n            dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\n        }\n    } catch (error) {\n        dispatch({type: CATEGORY_SAVE_FAIL, payload: error.message});\n    }\n};\n\n// const detailsCategory = (productId) => async (dispatch) => {\n//   try {\n//     dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\n//     const { data } = await axios.get('/api/products/' + productId);\n//     dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\n//   } catch (error) {\n//     dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.message });\n//   }\n// };\n\nconst deleteCategory = (categoryId) => async (dispatch, getState) => {\n    try {\n        const {\n            userSignin: {userInfo},\n        } = getState();\n        dispatch({type: CATEGORY_DELETE_REQUEST, payload: categoryId});\n        const {data} = await axios.delete('/api/category/' + categoryId, {\n            headers: {\n                Authorization: 'Bearer ' + userInfo.token,\n            },\n        });\n        dispatch({type: CATEGORY_DELETE_SUCCESS, payload: data, success: true});\n    } catch (error) {\n        dispatch({type: CATEGORY_DELETE_FAIL, payload: error.message});\n    }\n};\n\nexport {\n    listCategories,\n    saveCategory,\n    deleteCategory,\n};\n"]},"metadata":{},"sourceType":"module"}